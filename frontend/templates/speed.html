{% extends "base_popup.html" %}

{% block content %}
  <h2>Speed: <span id="speed">loading...</span> km/h</h2>
{% endblock %}

{% block scripts %}
<script>
  async function updateData() {
    try {
      const res = await fetch("http://localhost:8000/api/speed");
      const data = await res.json();
      document.getElementById("speed").innerText = data.speed;
    } catch (e) {
      console.error("Error:", e);
    }
  }

  setInterval(updateData, 100);
  updateData();
</script>
{% endblock %}